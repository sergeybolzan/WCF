Домашнее задание
Создайте службу с именем MyDiskInfo, которая бу-
дет передавать клиентам некоторую информацию о дис-
ках своего компьютера. В службе надо реализовать две
операции с именами FreeSpace() и TotalSpace(). Каждая
из операций должна принимать параметр типа string и
возвращать результат типа string.
Во входном параметре операции должно переда-
ваться имя диска. При этом, если в переданной строке
указано больше одного символа – учитываться должен
только первый символ. Например, если какой-либо опе-
рации клиент передаст строку “disk” – значит работать
надо будет с диском d, а если в строке будет “apple” – то
работать надо будет с диском a.
В возвращаемом результате FreeSpace() должна воз-
вращать в строке объем в байтах свободного места на
указанном диске того компьютера, где хостится сама
служба, а TotalSpace() – общий объем в байтах места на
указанном диске. Если в FreeSpace() или TotalSpace() пе-
редано имя несуществующего диска, в возвращаемой
строке должно содержаться что-то типа “Wrong disk!”.
Служба должна содержать конфигурационный
файл, описывать в коде mex-точку (конечную точку об-
мена метаданными) и хоститься в консольном прило-
жении.
Создайте для этой службы два клиента:
¦ один клиент должен общаться со службой по каналам,
созданным с помощью ChannelFactory;
78
Урок № 1
¦ второй клиент должен использовать прокси-класс.
Проверьте возможность доступа к службе обоих
клиентов одновременно. Оба клиента также как и служ-
ба должны быть консольными приложениями.